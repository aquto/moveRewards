/*! move-rewards 2020-03-02 */

var aqutoFlows=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){let n,r={},i={};function o(e){var t;(t=function(e,t){const n="string"==typeof t?t:t.id,r=document.querySelector("#"+n),i=r.getElementsByTagName("div")[0],o=i.scrollWidth<parseInt(e.minWidth.substring(0,3))?parseInt(e.minWidth.substring(0,3)):i.scrollWidth,l=i.scrollHeight<parseInt(e.minHeight.substring(0,3))?parseInt(e.minHeight.substring(0,3)):i.scrollHeight;return e.style.width=o+"px",e.style.height=l+"px",{targetEl:r,iframeEl:e}}(function(){let e=document.createElement("iframe");return e.minWidth="250px",e.minHeight="300px",e.src="//assets.aquto.com/moveRewards/flows/phone/tag/v1.html",e.name="aqutoIframe",e.style.border="none",e.style.position="absolute",e.style.backgroundColor="#fff",e}(),e.targetId)).targetEl&&t.targetEl.appendChild(t.iframeEl)}function l(e,t,n,r){i.id=e,i.response=t,i.options=n,i.status=r,i.sPageURL=window.location.search.substring(1),i.parentSrc=window.location.origin}function a(e,t){window.frames.aqutoIframe.postMessage(e,t)}r.VERSION="0.1.0",r.checkAppEligibilityPhoneEntry=function(e){!function(e){const t="string"==typeof e?e:e.id,n=document.querySelector("#"+t).getElementsByTagName("div")[0];n.appendChild(function(e){let t=document.createElement("img");t.src="../src/assets/images/loader.gif",t.style.float="right",t.style.marginRight="10px",t.style.marginTop="10px";let n=document.createElement("div");return n.id="loadingOverlay",n.style.width=e.scrollWidth+"px",n.style.height=e.scrollHeight+"px",n.style.minWidth="250px",n.style.minHeight="300px",n.style.top="0",n.style.left="0",n.style.zIndex="20",n.style.backgroundColor="rgba(255, 255, 255, 0.7)",n.style.cursor="default",n.style.position="absolute",n.style.display="none",n.appendChild(t),n}(n))}(e.targetId);const t=e.phoneNumber,r=document.getElementsByTagName("iframe");document.getElementById("loadingOverlay").style.display="block",aquto.checkAppEligibility({campaignId:e.campaignId,phoneNumber:t,channel:e.channel,publisherSiteUuid:e.publisherSiteUuid,callback:function(t){t?(l("aq.handleIframeDOM",t,e,"success"),0===r.length?o(e):a(JSON.stringify(i),n)):(l("aq.handleIframeDOM",t,e,"error"),0===r.length?o(e):a(JSON.stringify(i)))}})},e.exports=r,function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}(window,"message",function(e){const t=e.data.eventName,r=document.getElementsByTagName("iframe")[0];if(r&&r.src.includes(e.origin)&&(n=e.origin,"aq.iframeLoaded"===t&&(document.getElementById("loadingOverlay").style.display="none",a(JSON.stringify(i),n)),"aq.triggerOnComplete"===t)){const t=e.data.finalUrl;r.parentNode.removeChild(r),i.options.onComplete({redirectUrl:t})}}),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";if(e instanceof RegExp)throw TypeError("first argument must not be a RegExp");return void 0===t&&(t=0),-1!==this.indexOf(e,t)})}]);